<HTML>
<!-- EMDA 203 - Project_1_2 Template - Spring 2020

Place the assets on a canvas using JavaScript and CreateJS.  
Set up procedural target movement and keyboard input for hero movement.

-->
<head>
<script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
<script src="js/KeyMonkey.js"></script>
<script src="js/collisionGnome.js"></script>
<script>

	// ************************ GLOBAL VARIABLES *********************
	var myStage;
	var stageWidth;
	var stageHeight;
	var myFrameRate = 60;
	var target01;
	var target02;
	var target03;
	var targetMaxSpeed = 4; // actual max speed will be targetMaxSpeed + targetMinSpeed...
	var targetMinSpeed = 2;
	var bg;

	var heroStartSpeed = 5;
	// HERO START POSITION VARIABLES
	// var heroStartPositionX = 200;
	// var heroStartPositionY = 100;
	

	// ************ INITIALIZATION - Happens only once ****************
	function init(){
		myStage = new createjs.Stage(document.getElementById("myCanvas"));
		stageWidth = myStage.canvas.width;
		stageHeight = myStage.canvas.height;
			
		createjs.Ticker.addEventListener('tick', gameLoop);
		createjs.Ticker._setFPS(myFrameRate);
		initGame();
	}// end init()
	
	function initGame(){
	
		// ADDING THE BACKGROUND TO THE STAGE
		bg = new createjs.Bitmap("images/background.png");
		bg.x = 0;
		bg.y = 0;
		myStage.addChild(bg);
		
		// ADDING HERO TO THE STAGE
		// hero = new createjs.Bitmap("images/hero.png");
		// hero.x = heroStartPositionX;
		// hero.y = heroStartPositionY;
		// hero.regX = 64
		// hero.regY = 64
		// hero.speed = heroStartSpeed;
		// myStage.addChild(hero);
			
		// ADDING A TARGET TO THE STAGE
		// target01 = new createjs.Bitmap("images/target01.png");
		// target01.regX = 32;
		// target01.regY = 32;
		// target01.x = Math.random()*stageWidth; 
		// target01.y = 32;
		// target01.speed = Math.random()*targetMaxSpeed + targetMinSpeed;
		// myStage.addChild(target01);

		// ADDING A TARGET TO THE STAGE
		// target02 = new createjs.Bitmap("images/target02.png");
		// target02.regX = 32;
		// target02.regY = 32;
		// target02.x = Math.random()*stageWidth;
		// target02.y = 32;
		// target02.speed = Math.random()*targetMaxSpeed + targetMinSpeed;
		// myStage.addChild(target02);

		// ADDING A TARGET TO THE STAGE
		// target03 = new createjs.Bitmap("images/target03.png");
		// target03.regX = 32;
		// target03.regY = 32;
		// target03.x = Math.random()*stageWidth;
		// target03.y = 32;
		// target03.speed = Math.random()*targetMaxSpeed + targetMinSpeed;
		// myStage.addChild(target02);		
	
	}


	// ***************** THE MAIN LOOP  ************

	function gameLoop(evt){
		// put code in here that will change every 'tick'
		
        //handleKeyboardInput();  	// Check for keyboard input
        //moveTarget(target01);  	// move targets...
		myStage.update();
	}// end drawNewFrame()


	// ***************** KEYBOARD INPUT FUNCTION  ************
	function handleKeyboardInput(){
		/* write code to allow key strokes to control movement of your hero.
		   for example:*/
		   
		// if(keyMonkey["w"] || keyMonkey["up"]) 	{hero.y -= hero.speed; }
		// if(keyMonkey["s"] || keyMonkey["down"]) 	{hero.y += hero.speed; }
		// if(keyMonkey["d"] || keyMonkey["right"]) {hero.x += hero.speed; }
		// if(keyMonkey["a"] || keyMonkey["left"]) 	{hero.x -= hero.speed; }

	}// end handleKeyboardInput()


	// ***************** MOVE TARGET FUNCTION  ************
	function moveTarget(thisTarget){
		thisTarget.x += thisTarget.speed;
	}// end moveTarget()
	

	
	
</script>

<title></title>
</head>

<body onload="init()">
<canvas id="myCanvas" width="1024" height="1024">Sorry. You need an HTML5 compatible browser to see this.</canvas>

</body>
</HTML>